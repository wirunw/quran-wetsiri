
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏® - ‡∏≠‡∏±‡∏•‡∏Å‡∏∏‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô Quran Wetsiri</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Prompt', sans-serif; background-color: #f0f4f8; }
        .weather-card { background: white; border-radius: 1rem; padding: 1.75rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); transition: all 0.3s ease; }
        .weather-card:hover { transform: translateY(-8px); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.15), 0 8px 10px -6px rgb(0 0 0 / 0.15); }
        .tab-button { transition: all 0.3s ease; }
        .tab-button.active { background: linear-gradient(135deg, #0c4a6e 0%, #0ea5e9 100%); color: white; box-shadow: 0 4px 14px 0 rgb(0 119 255 / 39%); }
        .loader { border: 8px solid #e5e7eb; border-top: 8px solid #3b82f6; border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite; margin: 2rem auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        /* Dark Mode Overrides */
        .dark body { background-color: #111827; color: #d1d5db; }
        .dark .bg-white { background-color: #1f2937; border-color: #374151; }
        .dark .text-gray-800 { color: #f9fafb; }
        .dark .text-gray-700 { color: #d1d5db; }
        .dark .text-gray-600 { color: #9ca3af; }
        .dark .text-sky-900 { color: #7dd3fc; }
        .dark .text-sky-800 { color: #38bdf8; }
        .dark .text-sky-700 { color: #7dd3fc; }
        .dark .bg-gray-200 { background-color: #374151; }
        .dark .tab-button.active { background-color: #38bdf8; color: #111827; }
        .dark .weather-card { background-color: #1f2937; }
        .dark #province-select { background-color: #374151; border-color: #4b5563; color: #f9fafb; }
        .dark .text-blue-500 { color: #38bdf8; }
    </style>
</head>
<body>
    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
        <div id="main-header"></div>
        <div id="navbar-container"></div>

        <!-- Controls Section -->
        <div class="bg-white p-6 rounded-2xl shadow-xl mb-8 border border-gray-200 card">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                <div>
                    <label for="province-select" class="block text-md font-semibold text-gray-700 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</label>
                    <select id="province-select" class="w-full text-lg p-3 border border-gray-300 rounded-xl shadow-sm custom-select"></select>
                </div>
                <div class="flex flex-col">
                     <label class="block text-md font-semibold text-gray-700 mb-2 invisible">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</label>
                    <div class="flex bg-gray-200 rounded-xl p-1">
                        <button id="hourly-btn" class="tab-button active w-1/2 p-3 rounded-lg font-semibold transition-all duration-300">‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</button>
                        <button id="daily-btn" class="tab-button w-1/2 p-3 rounded-lg font-semibold transition-all duration-300">‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 3 ‡∏ß‡∏±‡∏ô</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Display -->
        <main id="results-area">
            <div id="loading-indicator" class="hidden"><div class="loader"></div></div>
            <div id="error-message" class="text-center p-8 bg-red-100 text-red-700 rounded-lg hidden"></div>
            <div id="results-content" class="hidden">
                <div id="current-weather-card" class="weather-card mb-8"></div>
                <div id="forecast-section">
                     <h2 id="forecast-header" class="text-2xl font-bold text-sky-800 mb-4"></h2>
                     <div id="forecast-grid" class="grid grid-cols-1 gap-4"></div>
                </div>
            </div>
        </main>

        <div id="main-footer"></div>
    </div>

    <script src="layout.js"></script>
    <script>
        applyLayout('‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®', 'weather.html');

        const apiKey = '6d70f8ba56a14a0c9d3143809251909';
        const provinceSelect = document.getElementById('province-select');
        const hourlyBtn = document.getElementById('hourly-btn');
        const dailyBtn = document.getElementById('daily-btn');
        const loadingIndicator = document.getElementById('loading-indicator');
        const errorMessage = document.getElementById('error-message');
        const resultsContent = document.getElementById('results-content');
        const currentWeatherCard = document.getElementById('current-weather-card');
        const forecastHeader = document.getElementById('forecast-header');
        const forecastGrid = document.getElementById('forecast-grid');
        let forecastType = 'hourly';

        const thaiProvinces = [ { thai: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£", english: "Bangkok" }, { thai: "‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà", english: "Krabi" }, { thai: "‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ", english: "Kanchanaburi" }, { thai: "‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå", english: "Kalasin" }, { thai: "‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£", english: "Kamphaeng Phet" }, { thai: "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô", english: "Khon Kaen" }, { thai: "‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ", english: "Chanthaburi" }, { thai: "‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤", english: "Chachoengsao" }, { thai: "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ", english: "Chonburi" }, { thai: "‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó", english: "Chai Nat" }, { thai: "‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥", english: "Chaiyaphum" }, { thai: "‡∏ä‡∏∏‡∏°‡∏û‡∏£", english: "Chumphon" }, { thai: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢", english: "Chiang Rai" }, { thai: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", english: "Chiang Mai" }, { thai: "‡∏ï‡∏£‡∏±‡∏á", english: "Trang" }, { thai: "‡∏ï‡∏£‡∏≤‡∏î", english: "Trat" }, { thai: "‡∏ï‡∏≤‡∏Å", english: "Tak" }, { thai: "‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å", english: "Nakhon Nayok" }, { thai: "‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°", english: "Nakhon Pathom" }, { thai: "‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°", english: "Nakhon Phanom" }, { thai: "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤", english: "Nakhon Ratchasima" }, { thai: "‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä", english: "Nakhon Si Thammarat" }, { thai: "‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå", english: "Nakhon Sawan" }, { thai: "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ", english: "Nonthaburi" }, { thai: "‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™", english: "Narathiwat" }, { thai: "‡∏ô‡πà‡∏≤‡∏ô", english: "Nan" }, { thai: "‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨", english: "Bueng Kan" }, { thai: "‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå", english: "Buriram" }, { thai: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ", english: "Pathum Thani" }, { thai: "‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå", english: "Prachuap Khiri Khan" }, { thai: "‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ", english: "Prachinburi" }, { thai: "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ", english: "Pattani" }, { thai: "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤", english: "Phra Nakhon Si Ayutthaya" }, { thai: "‡∏û‡∏∞‡πÄ‡∏¢‡∏≤", english: "Phayao" }, { thai: "‡∏û‡∏±‡∏á‡∏á‡∏≤", english: "Phang Nga" }, { thai: "‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á", english: "Phatthalung" }, { thai: "‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£", english: "Phichit" }, { thai: "‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å", english: "Phitsanulok" }, { thai: "‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ", english: "Phetchaburi" }, { thai: "‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå", english: "Phetchabun" }, { thai: "‡πÅ‡∏û‡∏£‡πà", english: "Phrae" }, { thai: "‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï", english: "Phuket" }, { thai: "‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°", english: "Maha Sarakham" }, { thai: "‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£", english: "Mukdahan" }, { thai: "‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô", english: "Mae Hong Son" }, { thai: "‡∏¢‡πÇ‡∏™‡∏ò‡∏£", english: "Yasothon" }, { thai: "‡∏¢‡∏∞‡∏•‡∏≤", english: "Yala" }, { thai: "‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î", english: "Roi Et" }, { thai: "‡∏£‡∏∞‡∏ô‡∏≠‡∏á", english: "Ranong" }, { thai: "‡∏£‡∏∞‡∏¢‡∏≠‡∏á", english: "Rayong" }, { thai: "‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ", english: "Ratchaburi" }, { thai: "‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ", english: "Lopburi" }, { thai: "‡∏•‡∏≥‡∏õ‡∏≤‡∏á", english: "Lampang" }, { thai: "‡∏•‡∏≥‡∏û‡∏π‡∏ô", english: "Lamphun" }, { thai: "‡πÄ‡∏•‡∏¢", english: "Loei" }, { thai: "‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©", english: "Sisaket" }, { thai: "‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£", english: "Sakon Nakhon" }, { thai: "‡∏™‡∏á‡∏Ç‡∏•‡∏≤", english: "Songkhla" }, { thai: "‡∏™‡∏ï‡∏π‡∏•", english: "Satun" }, { thai: "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£", english: "Samut Prakan" }, { thai: "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°", english: "Samut Songkhram" }, { thai: "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£", english: "Samut Sakhon" }, { thai: "‡∏™‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß", english: "Sa Kaeo" }, { thai: "‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ", english: "Saraburi" }, { thai: "‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ", english: "Sing Buri" }, { thai: "‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢", english: "Sukhothai" }, { thai: "‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ", english: "Suphan Buri" }, { thai: "‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ", english: "Surat Thani" }, { thai: "‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå", english: "Surin" }, { thai: "‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢", english: "Nong Khai" }, { thai: "‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π", english: "Nong Bua Lamphu" }, { thai: "‡∏≠‡πà‡∏≤‡∏á‡∏ó‡∏≠‡∏á", english: "Ang Thong" }, { thai: "‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç", english: "Amnat Charoen" }, { thai: "‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ", english: "Udon Thani" }, { thai: "‡∏≠‡∏∏‡∏ï‡∏£‡∏î‡∏¥‡∏ï‡∏ñ‡πå", english: "Uttaradit" }, { thai: "‡∏≠‡∏∏‡∏ó‡∏±‡∏¢‡∏ò‡∏≤‡∏ô‡∏µ", english: "Uthai Thani" }, { thai: "‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ", english: "Ubon Ratchathani" } ];

        function populateProvinces() { thaiProvinces.sort((a, b) => a.thai.localeCompare(b.thai, 'th')); thaiProvinces.forEach(province => { const option = document.createElement('option'); option.value = province.english; option.textContent = province.thai; if (province.english === 'Satun') { option.selected = true; } provinceSelect.appendChild(option); }); }
        function showLoading(isLoading) { loadingIndicator.classList.toggle('hidden', !isLoading); if (isLoading) { resultsContent.classList.add('hidden'); errorMessage.classList.add('hidden'); } }
        function showError(message) { errorMessage.textContent = message; errorMessage.classList.remove('hidden'); showLoading(false); resultsContent.classList.add('hidden'); }

        async function fetchWeatherData() {
            if (!apiKey) {
                showError('‡πÑ‡∏°‡πà‡∏û‡∏ö API Key ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå weather.html (‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ apiKey)');
                return;
            }
            const province = provinceSelect.value;
            showLoading(true);
            const url = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${province}&days=3&aqi=no&alerts=no`;
            try {
                const response = await fetch(url);
                if (!response.ok) { const errorData = await response.json(); throw new Error(errorData.error.message || `HTTP status: ${response.status}`); }
                const data = await response.json();
                displayData(data);
            } catch (error) { console.error('Error fetching weather data:', error); showError(`‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${error.message}`); } finally { showLoading(false); }
        }
        
        function displayData(data) { displayCurrentWeather(data); if(forecastType === 'hourly') { displayHourlyForecast(data); } else { displayDailyForecast(data); } resultsContent.classList.remove('hidden'); }
        function displayCurrentWeather({ location, current }) {
            currentWeatherCard.innerHTML = `<div class="flex flex-col md:flex-row justify-between items-center gap-4"><div class="text-center md:text-left"><h2 class="text-3xl font-bold text-sky-800">${location.name}</h2><p class="text-gray-500">${translateWeatherCondition(current.condition.text)}</p></div><div class="flex items-center gap-4"><img src="https:${current.condition.icon}" alt="${current.condition.text}" class="w-20 h-20"><p class="text-6xl font-bold">${Math.round(current.temp_c)}<span class="text-3xl align-top">&deg;C</span></p></div><div class="text-center md:text-right text-gray-600"><p>‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô: ${Math.round(current.feelslike_c)}&deg;C</p><p>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô: ${current.humidity}%</p><p>‡∏•‡∏°: ${Math.round(current.wind_kph)} ‡∏Å‡∏°./‡∏ä‡∏°.</p><p class="font-semibold text-sky-700">‡∏î‡∏±‡∏ä‡∏ô‡∏µ UV: ${current.uv}</p></div></div>`;
        }
        function displayHourlyForecast({ forecast }) { forecastHeader.textContent = '‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ'; const todayForecast = forecast.forecastday[0].hour; const now = new Date(); const currentHour = now.getHours(); forecastGrid.className = 'grid grid-cols-1 gap-4'; forecastGrid.innerHTML = todayForecast.filter(hourData => new Date(hourData.time_epoch * 1000).getHours() >= currentHour).map(hourData => { const time = new Date(hourData.time_epoch * 1000).toLocaleTimeString('th-TH', { hour: '2-digit', minute: '2-digit' }); return `<div class="weather-card flex items-center justify-between p-3"><p class="font-bold text-lg w-1/4">${time} ‡∏ô.</p><div class="flex items-center gap-2 w-1/4"><img src="https:${hourData.condition.icon}" alt="${hourData.condition.text}" class="w-10 h-10"></div><p class="w-1/4 text-center">${translateWeatherCondition(hourData.condition.text)}</p><p class="text-2xl font-semibold w-1/4 text-right">${Math.round(hourData.temp_c)}&deg;C</p></div>`; }).join(''); }
        function displayDailyForecast({ forecast }) { forecastHeader.textContent = '‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ 3 ‡∏ß‡∏±‡∏ô'; forecastGrid.className = 'grid grid-cols-1 md:grid-cols-3 gap-4'; forecastGrid.innerHTML = forecast.forecastday.map(dayData => { const date = new Date(dayData.date_epoch * 1000); const dayName = new Intl.DateTimeFormat('th-TH', { weekday: 'long'}).format(date); 
            // Determine moon phase text
            let moonPhaseText = '';
            if (dayData.astro.moon_phase === 'New Moon') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°';
            else if (dayData.astro.moon_phase === 'Waxing Crescent') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô';
            else if (dayData.astro.moon_phase === 'First Quarter') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô';
            else if (dayData.astro.moon_phase === 'Waxing Gibbous') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô';
            else if (dayData.astro.moon_phase === 'Full Moon') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô';
            else if (dayData.astro.moon_phase === 'Waning Gibbous') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°';
            else if (dayData.astro.moon_phase === 'Last Quarter') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°';
            else if (dayData.astro.moon_phase === 'Waning Crescent') moonPhaseText = '‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°';
            else moonPhaseText = dayData.astro.moon_phase;
            
            return `<div class="weather-card flex flex-col items-center text-center p-4">
                <p class="font-bold text-xl">${dayName}</p>
                <p class="text-gray-500 text-sm">${date.toLocaleString('th-TH', { day: 'numeric', month: 'short' })}</p>
                <img src="https:${dayData.day.condition.icon}" alt="${dayData.day.condition.text}" class="w-16 h-16 my-2">
                <p class="text-sm">${translateWeatherCondition(dayData.day.condition.text)}</p>
                <p class="text-2xl font-bold my-1">${Math.round(dayData.day.maxtemp_c)}&deg; / ${Math.round(dayData.day.mintemp_c)}&deg;</p>
                <p class="text-sm text-blue-600">‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏Å‡∏¥‡∏î‡∏ù‡∏ô: ${dayData.day.daily_chance_of_rain}%</p>
                
                <div class="text-xs text-gray-500 mt-3 pt-3 border-t w-full">
                    <div class="flex justify-between mb-1">
                        <span>‚òÄÔ∏è ‡∏û‡∏£‡∏∞‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏Ç‡∏∂‡πâ‡∏ô:</span>
                        <span>${dayData.astro.sunrise}</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span>üåô ‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏Ç‡∏∂‡πâ‡∏ô:</span>
                        <span>${dayData.astro.moonrise}</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span>üåô ‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ï‡∏Å:</span>
                        <span>${dayData.astro.moonset}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>üåô ‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô/‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°:</span>
                        <span>${moonPhaseText}</span>
                    </div>
                </div>
            </div>`; }).join(''); }
        
        </div>`; }).join(''); }

        // Function to translate English weather conditions to Thai
        function translateWeatherCondition(condition) {
            const translations = {
                // Sunny conditions
                "Sunny": "‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î",
                "Clear": "‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á",
                "Partly cloudy": "‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô",
                "Cloudy": "‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏°‡∏≤‡∏Å",
                "Overcast": "‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡πÄ‡∏ï‡πá‡∏°‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤",
                
                // Rain conditions
                "Patchy rain nearby": "‡∏°‡∏µ‡∏ù‡∏ô‡∏ï‡∏Å‡∏ö‡∏≤‡∏á‡πÅ‡∏´‡πà‡∏á‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á",
                "Patchy light drizzle": "‡∏°‡∏µ‡∏ù‡∏ô‡∏•‡∏∞‡∏≠‡∏≠‡∏á‡∏ö‡∏≤‡∏á‡πÅ‡∏´‡πà‡∏á",
                "Light drizzle": "‡∏ù‡∏ô‡∏•‡∏∞‡∏≠‡∏≠‡∏á‡πÄ‡∏ö‡∏≤",
                "Patchy light rain": "‡∏°‡∏µ‡∏ù‡∏ô‡∏ï‡∏Å‡πÄ‡∏ö‡∏≤‡∏ö‡∏≤‡∏á‡πÅ‡∏´‡πà‡∏á",
                "Light rain": "‡∏ù‡∏ô‡∏ï‡∏Å‡πÄ‡∏ö‡∏≤",
                "Moderate rain at times": "‡∏ù‡∏ô‡∏ï‡∏Å‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß",
                "Moderate rain": "‡∏ù‡∏ô‡∏ï‡∏Å‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á",
                "Heavy rain at times": "‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß",
                "Heavy rain": "‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å",
                "Patchy light snow": "‡∏°‡∏µ‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡πÄ‡∏ö‡∏≤‡∏ö‡∏≤‡∏á‡πÅ‡∏´‡πà‡∏á",
                "Light snow": "‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡πÄ‡∏ö‡∏≤",
                "Patchy moderate snow": "‡∏°‡∏µ‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ö‡∏≤‡∏á‡πÅ‡∏´‡πà‡∏á",
                "Moderate snow": "‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á",
                "Heavy snow": "‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å",
                
                // Thunderstorm conditions
                "Thundery outbreaks in nearby": "‡∏°‡∏µ‡∏û‡∏≤‡∏¢‡∏∏‡∏ù‡∏ô‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á",
                "Patchy light rain with thunder": "‡∏°‡∏µ‡∏ù‡∏ô‡∏ï‡∏Å‡πÄ‡∏ö‡∏≤‡∏ö‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á‡∏ö‡∏≤‡∏á‡πÅ‡∏´‡πà‡∏á",
                "Moderate or heavy rain with thunder": "‡∏ù‡∏ô‡∏ï‡∏Å‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡∏±‡∏Å‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á",
                
                // Fog conditions
                "Mist": "‡∏°‡∏µ‡∏´‡∏°‡∏≠‡∏Å‡∏ö‡∏≤‡∏á",
                "Fog": "‡∏°‡∏µ‡∏´‡∏°‡∏≠‡∏Å",
                "Freezing fog": "‡∏´‡∏°‡∏≠‡∏Å‡πÄ‡∏¢‡∏∑‡∏≠‡∏Å‡πÅ‡∏Ç‡πá‡∏á",
                
                // Other conditions
                "Blowing snow": "‡∏´‡∏¥‡∏°‡∏∞‡∏û‡∏±‡∏î‡πÅ‡∏£‡∏á",
                "Blizzard": "‡∏û‡∏≤‡∏¢‡∏∏‡∏´‡∏¥‡∏°‡∏∞",
                "Ice pellets": "‡∏•‡∏π‡∏Å‡πÄ‡∏´‡πá‡∏ö",
                "Light rain shower": "‡∏ù‡∏ô‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏¢‡πà‡∏≠‡∏°‡πÜ ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÄ‡∏ö‡∏≤",
                "Moderate or heavy rain shower": "‡∏ù‡∏ô‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏¢‡πà‡∏≠‡∏°‡πÜ ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡∏±‡∏Å",
                "Light snow showers": "‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏¢‡πà‡∏≠‡∏°‡πÜ ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÄ‡∏ö‡∏≤",
                "Moderate or heavy snow showers": "‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏¢‡πà‡∏≠‡∏°‡πÜ ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡∏±‡∏Å"
            };
            
            return translations[condition] || condition; // Return Thai translation or original if not found
        }

        function setupEventListeners() { provinceSelect.addEventListener('change', fetchWeatherData); hourlyBtn.addEventListener('click', () => { forecastType = 'hourly'; hourlyBtn.classList.add('active'); dailyBtn.classList.remove('active'); fetchWeatherData(); }); dailyBtn.addEventListener('click', () => { forecastType = 'daily'; dailyBtn.classList.add('active'); hourlyBtn.classList.remove('active'); fetchWeatherData(); }); }
        
        function initializeApp() { populateProvinces(); setupEventListeners(); fetchWeatherData(); }

        initializeApp();
    </script>
</body>
</html>
